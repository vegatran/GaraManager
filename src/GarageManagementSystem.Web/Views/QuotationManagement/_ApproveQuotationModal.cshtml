<!-- Modal Duyệt Báo Giá -->
<div class="modal fade" id="approveQuotationModal" tabindex="-1" role="dialog" aria-labelledby="approveQuotationModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header bg-success">
                <h5 class="modal-title" id="approveQuotationModalLabel">
                    <i class="fas fa-check-circle"></i> Duyệt Báo Giá
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="approveQuotationForm">
                    <!-- Ghi chú khách hàng -->
                    <div class="form-group">
                        <label for="approveCustomerNotes">
                            Ghi chú khách hàng <span class="text-muted">(Tùy chọn)</span>
                        </label>
                        <textarea class="form-control form-control-sm" id="approveCustomerNotes" rows="3" 
                                  placeholder="Nhập ghi chú từ khách hàng hoặc lý do duyệt..."></textarea>
                        <small class="form-text text-muted">Ghi chú này sẽ được lưu lại cùng với báo giá đã duyệt.</small>
                    </div>
                    
                    <!-- Tùy chọn tạo phiếu sửa chữa -->
                    <div class="form-group">
                        <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="approveCreateServiceOrder" checked>
                            <label class="custom-control-label" for="approveCreateServiceOrder">
                                <strong>Tự động tạo phiếu sửa chữa</strong>
                            </label>
                        </div>
                        <small class="form-text text-muted">
                            Khi được chọn, hệ thống sẽ tự động tạo phiếu sửa chữa từ báo giá đã duyệt để bắt đầu Giai đoạn 2.
                        </small>
                    </div>
                    
                    <!-- Ngày hẹn sửa chữa -->
                    <div class="form-group" id="approveScheduledDateGroup">
                        <label for="approveScheduledDate">
                            Ngày hẹn sửa chữa <span class="text-muted">(Tùy chọn)</span>
                        </label>
                        <input type="date" class="form-control form-control-sm" id="approveScheduledDate" 
                               min="@DateTime.Now.ToString("yyyy-MM-dd")">
                        <small class="form-text text-muted">Chọn ngày bắt đầu sửa chữa (mặc định là ngày hiện tại).</small>
                    </div>
                    
                    <!-- Thông báo -->
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i>
                        <strong>Lưu ý:</strong> Sau khi duyệt, báo giá sẽ chuyển sang trạng thái "Đã duyệt" và có thể bắt đầu Giai đoạn 2 - Sửa chữa.
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">
                    <i class="fas fa-times"></i> Hủy
                </button>
                <button type="button" class="btn btn-success btn-sm" id="btnSubmitApproveQuotation">
                    <i class="fas fa-check"></i> Xác nhận Duyệt
                </button>
            </div>
        </div>
    </div>
</div>

<!-- JS moved to quotation-management.js -->

