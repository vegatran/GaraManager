<!-- Create Warehouse Modal -->
<div class="modal fade" id="createWarehouseModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h4 class="modal-title"><i class="fas fa-plus-circle"></i> Thêm Kho Mới</h4>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form id="createWarehouseForm">
                <div class="modal-body">
                    <!-- Tab Navigation -->
                    <ul class="nav nav-tabs" id="createWarehouseTabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="create-basic-tab" data-toggle="tab" href="#createBasicInfo" role="tab">
                                <i class="fas fa-info-circle"></i> Thông Tin Cơ Bản
                                <span class="badge badge-danger ml-1">*</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="create-zones-tab" data-toggle="tab" href="#createZones" role="tab">
                                <i class="fas fa-th-large"></i> Quản Lý Khu Vực
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="create-bins-tab" data-toggle="tab" href="#createBins" role="tab">
                                <i class="fas fa-box"></i> Quản Lý Kệ/Ngăn
                            </a>
                        </li>
                    </ul>

                    <!-- Tab Content -->
                    <div class="tab-content mt-3" id="createWarehouseTabContent">
                        <!-- Tab 1: Thông Tin Cơ Bản -->
                        <div class="tab-pane fade show active" id="createBasicInfo" role="tabpanel">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="createCode">Mã Kho <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control form-control-sm" id="createCode" name="Code" required maxlength="50" placeholder="VD: WH-001">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="createName">Tên Kho <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control form-control-sm" id="createName" name="Name" required maxlength="150" placeholder="VD: Kho Chính">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="createDescription">Mô Tả</label>
                                        <textarea class="form-control form-control-sm" id="createDescription" name="Description" rows="2" maxlength="300" placeholder="Mô tả về kho"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="createAddress">Địa Chỉ</label>
                                        <textarea class="form-control form-control-sm" id="createAddress" name="Address" rows="2" maxlength="300" placeholder="Địa chỉ kho"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="createManagerName">Người Quản Lý</label>
                                        <input type="text" class="form-control form-control-sm" id="createManagerName" name="ManagerName" maxlength="100" placeholder="Tên người quản lý">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="createPhoneNumber">Số Điện Thoại</label>
                                        <input type="text" class="form-control form-control-sm" id="createPhoneNumber" name="PhoneNumber" maxlength="50" placeholder="Số điện thoại liên hệ">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="createIsDefault" name="IsDefault">
                                            <label class="form-check-label" for="createIsDefault">
                                                Kho Mặc Định
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="createIsActive" name="IsActive" checked>
                                            <label class="form-check-label" for="createIsActive">
                                                Kích Hoạt
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tab 2: Quản Lý Khu Vực -->
                        <div class="tab-pane fade" id="createZones" role="tabpanel">
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i> <strong>Lưu ý:</strong> Bạn có thể thêm khu vực sau khi tạo kho. 
                                Khu vực sẽ được lưu sau khi bạn lưu kho.
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-12">
                                    <button type="button" class="btn btn-primary btn-sm" id="createAddZoneBtn" data-title="Thêm khu vực mới">
                                        <i class="fas fa-plus"></i> Thêm Khu Vực
                                    </button>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped table-sm">
                                    <thead>
                                        <tr>
                                            <th>Mã</th>
                                            <th>Tên</th>
                                            <th>Mô Tả</th>
                                            <th>Thứ Tự</th>
                                            <th>Trạng Thái</th>
                                            <th>Thao Tác</th>
                                        </tr>
                                    </thead>
                                    <tbody id="createZonesTableBody">
                                        <tr class="text-muted">
                                            <td colspan="6" class="text-center">Chưa có khu vực nào.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Tab 3: Quản Lý Kệ/Ngăn -->
                        <div class="tab-pane fade" id="createBins" role="tabpanel">
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i> <strong>Lưu ý:</strong> Bạn có thể thêm kệ/ngăn sau khi tạo kho. 
                                Kệ/ngăn sẽ được lưu sau khi bạn lưu kho. Kệ/ngăn có thể thuộc khu vực hoặc trực tiếp thuộc kho.
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-12">
                                    <button type="button" class="btn btn-primary btn-sm" id="createAddBinBtn" data-title="Thêm kệ/ngăn mới">
                                        <i class="fas fa-plus"></i> Thêm Kệ/Ngăn
                                    </button>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped table-sm">
                                    <thead>
                                        <tr>
                                            <th>Mã</th>
                                            <th>Tên</th>
                                            <th>Khu Vực</th>
                                            <th>Mô Tả</th>
                                            <th>Sức Chứa</th>
                                            <th>Mặc Định</th>
                                            <th>Trạng Thái</th>
                                            <th>Thao Tác</th>
                                        </tr>
                                    </thead>
                                    <tbody id="createBinsTableBody">
                                        <tr class="text-muted">
                                            <td colspan="8" class="text-center">Chưa có kệ/ngăn nào.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal" data-title="Đóng">
                        <i class="fas fa-times"></i> Đóng
                    </button>
                    <button type="submit" class="btn btn-primary btn-sm" data-title="Lưu kho mới">
                        <i class="fas fa-save"></i> Lưu
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Zone Form Modal (Inline) -->
<div class="modal fade" id="createZoneFormModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title"><i class="fas fa-th-large"></i> <span id="createZoneFormTitle">Thêm Khu Vực</span></h5>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form id="createZoneForm">
                <input type="hidden" id="createZoneIndex" name="Index">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createZoneCode">Mã Khu Vực <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-sm" id="createZoneCode" name="Code" required maxlength="50" placeholder="VD: ZONE-001">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createZoneName">Tên Khu Vực <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-sm" id="createZoneName" name="Name" required maxlength="150" placeholder="VD: Khu A">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="createZoneDescription">Mô Tả</label>
                                <textarea class="form-control form-control-sm" id="createZoneDescription" name="Description" rows="2" maxlength="300" placeholder="Mô tả khu vực"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createZoneDisplayOrder">Thứ Tự Hiển Thị</label>
                                <input type="number" class="form-control form-control-sm" id="createZoneDisplayOrder" name="DisplayOrder" value="0" min="0">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <div class="form-check mt-4">
                                    <input type="checkbox" class="form-check-input" id="createZoneIsActive" name="IsActive" checked>
                                    <label class="form-check-label" for="createZoneIsActive">
                                        Kích Hoạt
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal" data-title="Hủy">
                        <i class="fas fa-times"></i> Hủy
                    </button>
                    <button type="submit" class="btn btn-primary btn-sm" data-title="Lưu khu vực">
                        <i class="fas fa-save"></i> Lưu
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Bin Form Modal (Inline) -->
<div class="modal fade" id="createBinFormModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title"><i class="fas fa-box"></i> <span id="createBinFormTitle">Thêm Kệ/Ngăn</span></h5>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form id="createBinForm">
                <input type="hidden" id="createBinIndex" name="Index">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createBinCode">Mã Kệ/Ngăn <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-sm" id="createBinCode" name="Code" required maxlength="50" placeholder="VD: BIN-001">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createBinName">Tên Kệ/Ngăn <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-sm" id="createBinName" name="Name" required maxlength="150" placeholder="VD: Kệ 1">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createBinWarehouseZoneId">Khu Vực (Tùy chọn)</label>
                                <select class="form-control form-control-sm" id="createBinWarehouseZoneId" name="WarehouseZoneId">
                                    <option value="">-- Không thuộc khu vực --</option>
                                </select>
                                <small class="form-text text-muted">Để trống nếu kệ/ngăn trực tiếp thuộc kho</small>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createBinCapacity">Sức Chứa</label>
                                <input type="number" class="form-control form-control-sm" id="createBinCapacity" name="Capacity" min="0" step="0.01" placeholder="Sức chứa">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="createBinDescription">Mô Tả</label>
                                <textarea class="form-control form-control-sm" id="createBinDescription" name="Description" rows="2" maxlength="300" placeholder="Mô tả kệ/ngăn"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <div class="form-check">
                                    <input type="checkbox" class="form-check-input" id="createBinIsDefault" name="IsDefault">
                                    <label class="form-check-label" for="createBinIsDefault">
                                        Kệ/Ngăn Mặc Định
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <div class="form-check">
                                    <input type="checkbox" class="form-check-input" id="createBinIsActive" name="IsActive" checked>
                                    <label class="form-check-label" for="createBinIsActive">
                                        Kích Hoạt
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal" data-title="Hủy">
                        <i class="fas fa-times"></i> Hủy
                    </button>
                    <button type="submit" class="btn btn-primary btn-sm" data-title="Lưu kệ/ngăn">
                        <i class="fas fa-save"></i> Lưu
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

