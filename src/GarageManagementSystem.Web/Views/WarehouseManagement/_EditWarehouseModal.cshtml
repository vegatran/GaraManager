<!-- Edit Warehouse Modal -->
<div class="modal fade" id="editWarehouseModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h4 class="modal-title"><i class="fas fa-edit"></i> Cập Nhật Kho</h4>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form id="editWarehouseForm">
                <input type="hidden" id="editId" name="Id">
                <div class="modal-body">
                    <!-- Tab Navigation -->
                    <ul class="nav nav-tabs" id="editWarehouseTabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="edit-basic-tab" data-toggle="tab" href="#editBasicInfo" role="tab">
                                <i class="fas fa-info-circle"></i> Thông Tin Cơ Bản
                                <span class="badge badge-danger ml-1">*</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="edit-zones-tab" data-toggle="tab" href="#editZones" role="tab">
                                <i class="fas fa-th-large"></i> Quản Lý Khu Vực
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="edit-bins-tab" data-toggle="tab" href="#editBins" role="tab">
                                <i class="fas fa-box"></i> Quản Lý Kệ/Ngăn
                            </a>
                        </li>
                    </ul>

                    <!-- Tab Content -->
                    <div class="tab-content mt-3" id="editWarehouseTabContent">
                        <!-- Tab 1: Thông Tin Cơ Bản -->
                        <div class="tab-pane fade show active" id="editBasicInfo" role="tabpanel">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="editCode">Mã Kho <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control form-control-sm" id="editCode" name="Code" required maxlength="50" placeholder="VD: WH-001">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="editName">Tên Kho <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control form-control-sm" id="editName" name="Name" required maxlength="150" placeholder="VD: Kho Chính">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="editDescription">Mô Tả</label>
                                        <textarea class="form-control form-control-sm" id="editDescription" name="Description" rows="2" maxlength="300" placeholder="Mô tả về kho"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="editAddress">Địa Chỉ</label>
                                        <textarea class="form-control form-control-sm" id="editAddress" name="Address" rows="2" maxlength="300" placeholder="Địa chỉ kho"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="editManagerName">Người Quản Lý</label>
                                        <input type="text" class="form-control form-control-sm" id="editManagerName" name="ManagerName" maxlength="100" placeholder="Tên người quản lý">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="editPhoneNumber">Số Điện Thoại</label>
                                        <input type="text" class="form-control form-control-sm" id="editPhoneNumber" name="PhoneNumber" maxlength="50" placeholder="Số điện thoại liên hệ">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="editIsDefault" name="IsDefault">
                                            <label class="form-check-label" for="editIsDefault">
                                                Kho Mặc Định
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="editIsActive" name="IsActive">
                                            <label class="form-check-label" for="editIsActive">
                                                Kích Hoạt
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tab 2: Quản Lý Khu Vực -->
                        <div class="tab-pane fade" id="editZones" role="tabpanel">
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i> <strong>Lưu ý:</strong> Bạn có thể thêm, sửa, xóa khu vực. 
                                Thay đổi sẽ được lưu khi bạn lưu kho.
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-12">
                                    <button type="button" class="btn btn-primary btn-sm" id="editAddZoneBtn" data-title="Thêm khu vực mới">
                                        <i class="fas fa-plus"></i> Thêm Khu Vực
                                    </button>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped table-sm">
                                    <thead>
                                        <tr>
                                            <th>Mã</th>
                                            <th>Tên</th>
                                            <th>Mô Tả</th>
                                            <th>Thứ Tự</th>
                                            <th>Trạng Thái</th>
                                            <th>Thao Tác</th>
                                        </tr>
                                    </thead>
                                    <tbody id="editZonesTableBody">
                                        <tr class="text-muted">
                                            <td colspan="6" class="text-center">Đang tải...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Tab 3: Quản Lý Kệ/Ngăn -->
                        <div class="tab-pane fade" id="editBins" role="tabpanel">
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i> <strong>Lưu ý:</strong> Bạn có thể thêm, sửa, xóa kệ/ngăn. 
                                Thay đổi sẽ được lưu khi bạn lưu kho. Kệ/ngăn có thể thuộc khu vực hoặc trực tiếp thuộc kho.
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-12">
                                    <button type="button" class="btn btn-primary btn-sm" id="editAddBinBtn" data-title="Thêm kệ/ngăn mới">
                                        <i class="fas fa-plus"></i> Thêm Kệ/Ngăn
                                    </button>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped table-sm">
                                    <thead>
                                        <tr>
                                            <th>Mã</th>
                                            <th>Tên</th>
                                            <th>Khu Vực</th>
                                            <th>Mô Tả</th>
                                            <th>Sức Chứa</th>
                                            <th>Mặc Định</th>
                                            <th>Trạng Thái</th>
                                            <th>Thao Tác</th>
                                        </tr>
                                    </thead>
                                    <tbody id="editBinsTableBody">
                                        <tr class="text-muted">
                                            <td colspan="8" class="text-center">Đang tải...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal" data-title="Đóng">
                        <i class="fas fa-times"></i> Đóng
                    </button>
                    <button type="submit" class="btn btn-info btn-sm" data-title="Cập nhật kho">
                        <i class="fas fa-save"></i> Cập Nhật
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Zone Form Modal (Inline) -->
<div class="modal fade" id="editZoneFormModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title"><i class="fas fa-th-large"></i> <span id="editZoneFormTitle">Thêm/Sửa Khu Vực</span></h5>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form id="editZoneForm">
                <input type="hidden" id="editZoneId" name="Id">
                <input type="hidden" id="editZoneIndex" name="Index">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="editZoneCode">Mã Khu Vực <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-sm" id="editZoneCode" name="Code" required maxlength="50" placeholder="VD: ZONE-001">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="editZoneName">Tên Khu Vực <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-sm" id="editZoneName" name="Name" required maxlength="150" placeholder="VD: Khu A">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="editZoneDescription">Mô Tả</label>
                                <textarea class="form-control form-control-sm" id="editZoneDescription" name="Description" rows="2" maxlength="300" placeholder="Mô tả khu vực"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="editZoneDisplayOrder">Thứ Tự Hiển Thị</label>
                                <input type="number" class="form-control form-control-sm" id="editZoneDisplayOrder" name="DisplayOrder" value="0" min="0">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <div class="form-check mt-4">
                                    <input type="checkbox" class="form-check-input" id="editZoneIsActive" name="IsActive">
                                    <label class="form-check-label" for="editZoneIsActive">
                                        Kích Hoạt
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal" data-title="Hủy">
                        <i class="fas fa-times"></i> Hủy
                    </button>
                    <button type="submit" class="btn btn-primary btn-sm" data-title="Lưu khu vực">
                        <i class="fas fa-save"></i> Lưu
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Bin Form Modal (Inline) -->
<div class="modal fade" id="editBinFormModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title"><i class="fas fa-box"></i> <span id="editBinFormTitle">Thêm/Sửa Kệ/Ngăn</span></h5>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form id="editBinForm">
                <input type="hidden" id="editBinId" name="Id">
                <input type="hidden" id="editBinIndex" name="Index">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="editBinCode">Mã Kệ/Ngăn <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-sm" id="editBinCode" name="Code" required maxlength="50" placeholder="VD: BIN-001">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="editBinName">Tên Kệ/Ngăn <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-sm" id="editBinName" name="Name" required maxlength="150" placeholder="VD: Kệ 1">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="editBinWarehouseZoneId">Khu Vực (Tùy chọn)</label>
                                <select class="form-control form-control-sm" id="editBinWarehouseZoneId" name="WarehouseZoneId">
                                    <option value="">-- Không thuộc khu vực --</option>
                                </select>
                                <small class="form-text text-muted">Để trống nếu kệ/ngăn trực tiếp thuộc kho</small>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="editBinCapacity">Sức Chứa</label>
                                <input type="number" class="form-control form-control-sm" id="editBinCapacity" name="Capacity" min="0" step="0.01" placeholder="Sức chứa">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="editBinDescription">Mô Tả</label>
                                <textarea class="form-control form-control-sm" id="editBinDescription" name="Description" rows="2" maxlength="300" placeholder="Mô tả kệ/ngăn"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <div class="form-check">
                                    <input type="checkbox" class="form-check-input" id="editBinIsDefault" name="IsDefault">
                                    <label class="form-check-label" for="editBinIsDefault">
                                        Kệ/Ngăn Mặc Định
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <div class="form-check">
                                    <input type="checkbox" class="form-check-input" id="editBinIsActive" name="IsActive">
                                    <label class="form-check-label" for="editBinIsActive">
                                        Kích Hoạt
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal" data-title="Hủy">
                        <i class="fas fa-times"></i> Hủy
                    </button>
                    <button type="submit" class="btn btn-primary btn-sm" data-title="Lưu kệ/ngăn">
                        <i class="fas fa-save"></i> Lưu
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

