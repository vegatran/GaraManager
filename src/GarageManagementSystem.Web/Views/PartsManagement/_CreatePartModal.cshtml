<!-- Create Part Modal with Classification -->
<div class="modal fade" id="createPartModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h4 class="modal-title"><i class="fas fa-plus-circle"></i> Th√™m Ph·ª• T√πng M·ªõi</h4>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form id="createPartForm">
                <div class="modal-body">
                    <!-- Tab Navigation -->
                    <ul class="nav nav-tabs" id="createPartTabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="create-basic-tab" data-toggle="tab" href="#createBasicInfo" role="tab">
                                <i class="fas fa-info-circle"></i> Th√¥ng Tin C∆° B·∫£n
                                <span class="badge badge-danger ml-1">*</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="create-classification-tab" data-toggle="tab" href="#createClassification" role="tab">
                                <i class="fas fa-shield-alt"></i> Ph√¢n Lo·∫°i & H√≥a ƒê∆°n
                                <span class="badge badge-warning ml-1">!</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="create-technical-tab" data-toggle="tab" href="#createTechnical" role="tab">
                                <i class="fas fa-cogs"></i> Th√¥ng Tin K·ªπ Thu·∫≠t
                                <span class="badge badge-secondary ml-1">?</span>
                            </a>
                        </li>
                    </ul>

                    <!-- Tab Content -->
                    <div class="tab-content mt-3" id="createPartTabContent">
                        <!-- Tab 1: Th√¥ng Tin C∆° B·∫£n -->
                        <div class="tab-pane fade show active" id="createBasicInfo" role="tabpanel">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createPartNumber">M√£ Ph·ª• T√πng <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-sm" id="createPartNumber" name="PartNumber" required maxlength="50">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createPartName">T√™n Ph·ª• T√πng <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-sm" id="createPartName" name="PartName" required maxlength="200">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="createDescription">M√¥ T·∫£</label>
                                <textarea class="form-control form-control-sm" id="createDescription" name="Description" rows="2" maxlength="1000"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createCategory">Danh M·ª•c</label>
                                        <input type="text" class="form-control form-control-sm" id="createCategory" name="Category" maxlength="100" placeholder="VD: D·∫ßu, L·ªëp, M√° phanh...">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createBrand">Th∆∞∆°ng Hi·ªáu</label>
                                <input type="text" class="form-control form-control-sm" id="createBrand" name="Brand" maxlength="100">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createCostPrice">Gi√° V·ªën <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-sm" id="createCostPrice" name="CostPrice" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="createSellPrice">Gi√° B√°n <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-sm" id="createSellPrice" name="SellPrice" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="createQuantityInStock">S·ªë L∆∞·ª£ng T·ªìn <span class="text-danger">*</span></label>
                                <input type="number" class="form-control form-control-sm" id="createQuantityInStock" name="QuantityInStock" required min="0" value="0">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                        <label for="createMinimumStock">T·ªìn Kho T·ªëi Thi·ªÉu</label>
                                        <input type="number" class="form-control form-control-sm" id="createMinimumStock" name="MinimumStock" min="0" value="0">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                        <label for="createUnit">ƒê∆°n V·ªã T√≠nh</label>
                                        <input type="text" class="form-control form-control-sm" id="createUnit" name="Unit" maxlength="20" placeholder="VD: C√°i, B·ªô, L√≠t...">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                        <label for="createLocation">V·ªã Tr√≠ Kho</label>
                                        <input type="text" class="form-control form-control-sm" id="createLocation" name="Location" maxlength="100" placeholder="VD: K·ªá A1-01">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                        <label for="createCompatibleVehicles">Xe T∆∞∆°ng Th√≠ch</label>
                                        <input type="text" class="form-control form-control-sm" id="createCompatibleVehicles" name="CompatibleVehicles" maxlength="500" placeholder="VD: Toyota Camry, Honda Civic...">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="createIsActive" name="IsActive" checked>
                                        <label class="custom-control-label" for="createIsActive">ƒêang Ho·∫°t ƒê·ªông</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tab 2: Ph√¢n Lo·∫°i & H√≥a ƒê∆°n -->
                        <div class="tab-pane fade" id="createClassification" role="tabpanel">
                            <!-- Quick Preset -->
                            <div class="alert alert-info">
                                <div class="row">
                                    <div class="col-md-9">
                                        <label><i class="fas fa-magic"></i> <strong>Ch·ªçn Nhanh Preset:</strong></label>
                                        <select class="form-control form-control-sm" id="createPresetSelect">
                                            <option value="">-- T√πy ch·ªânh th·ªß c√¥ng --</option>
                                            <option value="new_with_invoice">üìÑ Ph·ª• t√πng m·ªõi c√≥ h√≥a ƒë∆°n (C√¥ng ty/B·∫£o hi·ªÉm)</option>
                                            <option value="new_no_invoice">üì¶ Ph·ª• t√πng m·ªõi kh√¥ng h√≥a ƒë∆°n (C√° nh√¢n)</option>
                                            <option value="used_salvage">‚ôªÔ∏è Ph·ª• t√πng th√°o xe (C√° nh√¢n only)</option>
                                            <option value="oem_parts">‚≠ê Ph·ª• t√πng ch√≠nh h√£ng OEM</option>
                                            <option value="refurbished">üîÑ Ph·ª• t√πng t√°i ch·∫ø/T√¢n trang</option>
                                        </select>
                                        <small class="form-text text-muted">Ch·ªçn preset ƒë·ªÉ t·ª± ƒë·ªông ƒëi·ªÅn c√°c tr∆∞·ªùng b√™n d∆∞·ªõi</small>
                                    </div>
                                    <div class="col-md-3 text-right">
                                        <br>
                                        <button type="button" class="btn btn-sm btn-primary" id="createApplyPreset">
                                            <i class="fas fa-check"></i> √Åp d·ª•ng
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <hr>

                            <!-- Ngu·ªìn G·ªëc & T√¨nh Tr·∫°ng -->
                            <h6 class="text-primary"><i class="fas fa-box"></i> Ngu·ªìn G·ªëc & T√¨nh Tr·∫°ng</h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="createSourceType">Ngu·ªìn G·ªëc</label>
                                        <select class="form-control form-control-sm" id="createSourceType" name="SourceType">
                                            <option value="Purchased" selected>Mua m·ªõi</option>
                                            <option value="Used">Th√°o t·ª´ xe c≈©</option>
                                            <option value="Refurbished">T√°i ch·∫ø</option>
                                            <option value="Salvage">Ph·∫ø li·ªáu</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="createCondition">T√¨nh Tr·∫°ng</label>
                                        <select class="form-control form-control-sm" id="createCondition" name="Condition">
                                            <option value="New" selected>M·ªõi 100%</option>
                                            <option value="Used">ƒê√£ qua s·ª≠ d·ª•ng</option>
                                            <option value="Refurbished">T√°i ch·∫ø</option>
                                            <option value="AsIs">Nguy√™n tr·∫°ng</option>
                                        </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                        <label for="createSourceReference">Chi Ti·∫øt Ngu·ªìn G·ªëc</label>
                                        <input type="text" class="form-control form-control-sm" id="createSourceReference" name="SourceReference" maxlength="100" placeholder="VD: Th√°o t·ª´ xe 30A-12345, Mua t·ª´ nh√† cung c·∫•p ABC">
                                    </div>
                                </div>
                            </div>

                            <hr>

                            <!-- Qu·∫£n L√Ω H√≥a ƒê∆°n -->
                            <h6 class="text-primary"><i class="fas fa-file-invoice"></i> Qu·∫£n L√Ω H√≥a ƒê∆°n</h6>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="createInvoiceType">Lo·∫°i H√≥a ƒê∆°n</label>
                                        <select class="form-control form-control-sm" id="createInvoiceType" name="InvoiceType">
                                            <option value="WithInvoice" selected>C√≥ h√≥a ƒë∆°n VAT</option>
                                            <option value="WithoutInvoice">Kh√¥ng h√≥a ƒë∆°n</option>
                                            <option value="Internal">N·ªôi b·ªô</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="createVATRate">Thu·∫ø VAT (%)</label>
                                        <select class="form-control form-control-sm" id="createVATRate" name="VATRate">
                                            <option value="0">Kh√¥ng VAT (0%)</option>
                                            <option value="8">VAT 8%</option>
                                            <option value="10" selected>VAT 10%</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br>
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" id="createIsVATApplicable" name="IsVATApplicable" checked>
                                            <label class="custom-control-label" for="createIsVATApplicable">
                                                <strong>√Åp d·ª•ng thu·∫ø VAT</strong>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <hr>

                            <!-- ƒê·ªëi T∆∞·ª£ng S·ª≠ D·ª•ng -->
                            <h6 class="text-primary"><i class="fas fa-users"></i> ƒê·ªëi T∆∞·ª£ng S·ª≠ D·ª•ng</h6>
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle"></i> <strong>L∆∞u √Ω:</strong> C√¥ng ty v√† B·∫£o hi·ªÉm ch·ªâ ch·∫•p nh·∫≠n ph·ª• t√πng c√≥ h√≥a ƒë∆°n VAT h·ª£p l·ªá
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="createCanUseForIndividual" name="CanUseForIndividual" checked>
                                        <label class="custom-control-label" for="createCanUseForIndividual">
                                            <i class="fas fa-user"></i> <strong>C√° nh√¢n</strong>
                                            <br><small class="text-muted">Lu√¥n ƒë∆∞·ª£c ph√©p</small>
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="createCanUseForCompany" name="CanUseForCompany">
                                        <label class="custom-control-label" for="createCanUseForCompany">
                                            <i class="fas fa-building"></i> <strong>C√¥ng ty</strong>
                                            <br><small class="text-danger">‚ö†Ô∏è Y√™u c·∫ßu c√≥ h√≥a ƒë∆°n</small>
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="createCanUseForInsurance" name="CanUseForInsurance">
                                        <label class="custom-control-label" for="createCanUseForInsurance">
                                            <i class="fas fa-shield-alt"></i> <strong>B·∫£o hi·ªÉm</strong>
                                            <br><small class="text-danger">‚ö†Ô∏è Y√™u c·∫ßu c√≥ h√≥a ƒë∆°n</small>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <hr>

                            <!-- B·∫£o H√†nh -->
                            <h6 class="text-primary"><i class="fas fa-shield-check"></i> B·∫£o H√†nh</h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="createWarrantyMonths">Th·ªùi Gian B·∫£o H√†nh (th√°ng)</label>
                                        <input type="number" class="form-control form-control-sm" id="createWarrantyMonths" name="WarrantyMonths" min="0" max="120" value="12">
                                        <small class="form-text text-muted">0 = Kh√¥ng b·∫£o h√†nh</small>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <br>
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" id="createIsOEM" name="IsOEM">
                                            <label class="custom-control-label" for="createIsOEM">
                                                <i class="fas fa-star text-warning"></i> <strong>Ph·ª• t√πng ch√≠nh h√£ng (OEM)</strong>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <hr>

                            <!-- Classification Summary -->
                            <div id="createClassificationSummary"></div>
                        </div>

                        <!-- Tab 3: Th√¥ng Tin K·ªπ Thu·∫≠t -->
                        <div class="tab-pane fade" id="createTechnical" role="tabpanel">
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i> C√°c th√¥ng tin b√™n d∆∞·ªõi l√† <strong>t√πy ch·ªçn</strong> v√† c√≥ th·ªÉ b·ªï sung sau
                            </div>

                            <h6 class="text-primary"><i class="fas fa-barcode"></i> M√£ Ph·ª• T√πng</h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="createOEMNumber">M√£ OEM (Ch√≠nh h√£ng)</label>
                                        <input type="text" class="form-control form-control-sm" id="createOEMNumber" name="OEMNumber" maxlength="50">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="createAftermarketNumber">M√£ Aftermarket (Thay th·∫ø)</label>
                                        <input type="text" class="form-control form-control-sm" id="createAftermarketNumber" name="AftermarketNumber" maxlength="50">
                            </div>
                        </div>
                    </div>

                            <hr>

                            <h6 class="text-primary"><i class="fas fa-industry"></i> Nh√† S·∫£n Xu·∫•t</h6>
                    <div class="row">
                        <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="createManufacturer">Nh√† S·∫£n Xu·∫•t</label>
                                        <input type="text" class="form-control form-control-sm" id="createManufacturer" name="Manufacturer" maxlength="100">
                                    </div>
                                </div>
                            </div>

                            <hr>

                            <h6 class="text-primary"><i class="fas fa-ruler-combined"></i> Th√¥ng S·ªë K·ªπ Thu·∫≠t</h6>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="createDimensions">K√≠ch Th∆∞·ªõc</label>
                                        <input type="text" class="form-control form-control-sm" id="createDimensions" name="Dimensions" maxlength="100" placeholder="VD: 120x80x25mm">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="createWeight">Tr·ªçng L∆∞·ª£ng (kg)</label>
                                        <input type="number" class="form-control form-control-sm" id="createWeight" name="Weight" min="0" step="0.01">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="createMaterial">Ch·∫•t Li·ªáu</label>
                                        <input type="text" class="form-control form-control-sm" id="createMaterial" name="Material" maxlength="50" placeholder="VD: Th√©p, Nh·ª±a, Nh√¥m">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="createColor">M√†u S·∫Øc</label>
                                        <input type="text" class="form-control form-control-sm" id="createColor" name="Color" maxlength="50">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                        <i class="fas fa-times"></i> H·ªßy
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> L∆∞u Ph·ª• T√πng
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
