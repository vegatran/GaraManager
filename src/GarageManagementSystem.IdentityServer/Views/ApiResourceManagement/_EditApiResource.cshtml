@model GarageManagementSystem.IdentityServer.Controllers.EditApiResourceViewModel

<form id="editApiResourceForm">
    @Html.AntiForgeryToken()
    <input type="hidden" name="Id" value="@Model.Id" />
    <div class="modal-body p-3">
        <div class="row">
            <!-- Basic Information -->
            <div class="col-md-6">
                <h6 class="font-weight-bold text-primary">Basic Information</h6>
                <div class="form-group">
                    <label for="editName">API Resource Name <span class="text-danger">*</span></label>
                    <input type="text" class="form-control form-control-sm" id="editName" name="Name" required 
                           value="@Model.Name" pattern="[a-zA-Z0-9._\-]+" 
                           title="Only letters, numbers, dots, underscores, and hyphens allowed">
                </div>
                <div class="form-group">
                    <label for="editDisplayName">Display Name</label>
                    <input type="text" class="form-control form-control-sm" id="editDisplayName" name="DisplayName" 
                           value="@Model.DisplayName">
                </div>
                <div class="form-group">
                    <label for="editDescription">Description</label>
                    <textarea class="form-control form-control-sm" id="editDescription" name="Description" rows="3">@Model.Description</textarea>
                </div>
            </div>

            <!-- Settings -->
            <div class="col-md-6">
                <h6 class="font-weight-bold text-primary">Settings</h6>
                <div class="form-group">
                    <div class="custom-control custom-switch">
                        <input type="checkbox" class="custom-control-input" id="editEnabled" name="Enabled" @(Model.Enabled ? "checked" : "")>
                        <label class="custom-control-label" for="editEnabled">Enabled</label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="custom-control custom-switch">
                        <input type="checkbox" class="custom-control-input" id="editShowInDiscoveryDocument" name="ShowInDiscoveryDocument" @(Model.ShowInDiscoveryDocument ? "checked" : "")>
                        <label class="custom-control-label" for="editShowInDiscoveryDocument">Show in Discovery Document</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-3">
            <!-- User Claims -->
            <div class="col-md-6">
                <h6 class="font-weight-bold text-primary">User Claims</h6>
                <div class="form-group">
                    <label for="editUserClaims">Available Claims</label>
                    <select id="editApiResourceUserClaims" name="UserClaims" class="form-control form-control-sm" multiple 
                            data-selected-values="@string.Join(",", Model.UserClaims)">
                        <option value="sub">Subject ID (sub)</option>
                        <option value="name">Name</option>
                        <option value="given_name">Given Name</option>
                        <option value="family_name">Family Name</option>
                        <option value="middle_name">Middle Name</option>
                        <option value="nickname">Nickname</option>
                        <option value="preferred_username">Preferred Username</option>
                        <option value="profile">Profile</option>
                        <option value="picture">Picture</option>
                        <option value="website">Website</option>
                        <option value="email">Email</option>
                        <option value="email_verified">Email Verified</option>
                        <option value="gender">Gender</option>
                        <option value="birthdate">Birthdate</option>
                        <option value="zoneinfo">Zone Info</option>
                        <option value="locale">Locale</option>
                        <option value="phone_number">Phone Number</option>
                        <option value="phone_number_verified">Phone Number Verified</option>
                        <option value="address">Address</option>
                        <option value="updated_at">Updated At</option>
                        <option value="role">Role</option>
                        <option value="permission">Permission</option>
                    </select>
                </div>
            </div>

            <!-- Scopes -->
            <div class="col-md-6">
                <h6 class="font-weight-bold text-primary">API Scopes</h6>
                <div class="form-group">
                    <label for="editScopes">Available Scopes</label>
                    <select id="editApiResourceScopes" name="Scopes" class="form-control form-control-sm" multiple 
                            data-selected-values="@string.Join(",", Model.Scopes)">
                        <!-- Scopes will be loaded dynamically -->
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-primary btn-sm">Update API Resource</button>
    </div>
</form>
